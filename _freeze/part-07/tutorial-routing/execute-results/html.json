{
  "hash": "1f0cf99816a7434d7922806141ca207a",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Tutorial VII - Periodic Library Routing\"\nsubtitle: \"Applied Optimization with Julia\"\n\nformat:\n    html:\n        theme: litera\n        highlight-style: arrow\n        linkcolor: \"#a60000\"\n        code-copy: true\n        code-link: true\n        toc: true\n        toc-location: right\n        code-overflow: wrap\n    ipynb:\n        code-copy: true\n        code-overflow: wrap\n---\n\n\n\n\n\n\n# Introduction\n\nWelcome to \"FastDelivery\" - a local logistics service in Hamburg! We're working with a central warehouse that operates a decentralized distribution network: they deliver packages directly to smaller distribution centers in the region, ensuring efficient last-mile delivery across the area.\n\nThe central warehouse operates a fleet of delivery vehicles that transport packages between their main hub and 14 partner distribution centers scattered across the region. The challenge? Designing the most efficient routing system to keep packages flowing smoothly while keeping operational costs in check.\n\nIn this case study, we'll help FastDelivery optimize their delivery routes using the Capacitated Vehicle Routing Problem (CVRP) approach. We'll consider several real-world constraints like vehicle capacity (measured in standard shipping containers), driving distances, and operational costs to find the best possible delivery strategy.\n\n# 1. Implementing the basic CVRP\n\nImplement the CVRP from the lecture without the constraints preventing subtours and restricting the driving time and capacities.\n\nThe demand per distribution center and the coordinates of the locations are provided as CSV files. \n\nThe number of vehicles is 6 and each vehicle can transport up to 50 parcels to the distribution centers. Note that capacity of each vehicle is identical.\n\n## Loading the data\n\nFirst, we need to load the required packages and data files. Make sure you have the following files in the `data` directory that is located in the same directory as this notebook:\n\n- `demand.csv`: Contains demand per distribution center\n- `coord_x_y.csv`: Contains location coordinates\n\n\n\n::: {#b458ed93 .cell execution_count=2}\n``` {.julia .cell-code}\nusing DelimitedFiles\nusing CSV\nusing DataFrames\nusing JuMP\nusing HiGHS\nusing Plots\n\n## Prepare the model data\nfile_directory = \"$(@__DIR__)/data\"\ndemand = CSV.read(\"$(file_directory)/demand.csv\", DataFrame)\ncoord = CSV.read(\"$(file_directory)/coord_x_y.csv\", DataFrame)\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```{=html}\n<div><div style = \"float: left;\"><span>15×3 DataFrame</span></div><div style = \"clear: both;\"></div></div><div class = \"data-frame\" style = \"overflow-x: scroll;\"><table class = \"data-frame\" style = \"margin-bottom: 6px;\"><thead><tr class = \"header\"><th class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">Row</th><th style = \"text-align: left;\">location</th><th style = \"text-align: left;\">x</th><th style = \"text-align: left;\">y</th></tr><tr class = \"subheader headerLastRow\"><th class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\"></th><th title = \"String7\" style = \"text-align: left;\">String7</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th><th title = \"Float64\" style = \"text-align: left;\">Float64</th></tr></thead><tbody><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">1</td><td style = \"text-align: left;\">central</td><td style = \"text-align: right;\">155.24</td><td style = \"text-align: right;\">151.63</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">2</td><td style = \"text-align: left;\">dc_01</td><td style = \"text-align: right;\">128.513</td><td style = \"text-align: right;\">67.4002</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">3</td><td style = \"text-align: left;\">dc_02</td><td style = \"text-align: right;\">47.6949</td><td style = \"text-align: right;\">194.738</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">4</td><td style = \"text-align: left;\">dc_03</td><td style = \"text-align: right;\">93.6483</td><td style = \"text-align: right;\">181.213</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">5</td><td style = \"text-align: left;\">dc_04</td><td style = \"text-align: right;\">59.737</td><td style = \"text-align: right;\">166.434</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">6</td><td style = \"text-align: left;\">dc_05</td><td style = \"text-align: right;\">197.681</td><td style = \"text-align: right;\">102.756</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">7</td><td style = \"text-align: left;\">dc_06</td><td style = \"text-align: right;\">152.263</td><td style = \"text-align: right;\">140.986</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">8</td><td style = \"text-align: left;\">dc_07</td><td style = \"text-align: right;\">183.943</td><td style = \"text-align: right;\">182.649</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">9</td><td style = \"text-align: left;\">dc_08</td><td style = \"text-align: right;\">113.792</td><td style = \"text-align: right;\">33.3626</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">10</td><td style = \"text-align: left;\">dc_09</td><td style = \"text-align: right;\">172.555</td><td style = \"text-align: right;\">82.9658</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">11</td><td style = \"text-align: left;\">dc_10</td><td style = \"text-align: right;\">77.4372</td><td style = \"text-align: right;\">27.0503</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">12</td><td style = \"text-align: left;\">dc_11</td><td style = \"text-align: right;\">132.689</td><td style = \"text-align: right;\">152.717</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">13</td><td style = \"text-align: left;\">dc_12</td><td style = \"text-align: right;\">54.2646</td><td style = \"text-align: right;\">0.0399352</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">14</td><td style = \"text-align: left;\">dc_13</td><td style = \"text-align: right;\">54.5474</td><td style = \"text-align: right;\">31.4915</td></tr><tr><td class = \"rowNumber\" style = \"font-weight: bold; text-align: right;\">15</td><td style = \"text-align: left;\">dc_14</td><td style = \"text-align: right;\">66.5128</td><td style = \"text-align: right;\">100.22</td></tr></tbody></table></div>\n```\n:::\n:::\n\n\n::: {.callout-tip}\n\nMake sure that you have downloaded the data in the `data` folder that is located in the same directory as this notebook. \n\n:::\n\n## Define the parameters\n\nFirst, define the number of vehicles and the capacity as parameters. Name them `vehicles` and `capacity`.\n\n::: {#4211c71c .cell execution_count=3}\n``` {.julia .cell-code}\n# YOUR CODE BELOW\n```\n:::\n\n\n::: {#301007bf .cell execution_count=4}\n``` {.julia .cell-code code-fold=\"true\"}\n# Test your code\n@assert vehicles == 30/5 \"Number of vehicles is incorrect\"\n@assert capacity == 100/2 \"Capacity is incorrect\"\nprintln(\"Variables defined, great job!\")\n```\n:::\n\n\nNow, we need to compute the distance matrix. You can do so by using the Euclidean distance between the coordinates of the locations. Compute the distance matrix for all locations and store it in a dictionary called `distance`. Access each location by the tuple `(i,j)` where `i` is the origin and `j` is the destination. **Hint: You need the distance from each location to all other locations!**\n\n::: {#95a79eb8 .cell execution_count=5}\n``` {.julia .cell-code}\n# YOUR CODE BELOW\n```\n:::\n\n\n::: {#99b4493f .cell execution_count=6}\n``` {.julia .cell-code code-fold=\"true\"}\n# Test your code\n@assert length(distance) == nrow(coord) * nrow(coord) \"Distance dictionary should have n² entries where n is the number of locations\"\n@assert all(v >= 0 for v in values(distance)) \"All distances should be non-negative\"\n@assert all(isapprox(distance[(i,j)], distance[(j,i)]) for i in coord.location for j in coord.location if i != j) \"Distances should be symmetric\"\nprintln(\"Distance dictionary test passed successfully, great job!\")\n```\n:::\n\n\n## Define the model\n\nNext, we create the model instance. As this is a linear problem, we can use the `HiGHS` solver.\n\n::: {#5f3a9986 .cell execution_count=7}\n``` {.julia .cell-code}\n# Create the model instance\ncvrp_model = Model(HiGHS.Optimizer)\nset_attribute(cvrp_model, \"presolve\", \"on\")\nset_attribute(cvrp_model, \"time_limit\", 60.0)\nset_attribute(cvrp_model, \"mip_rel_gap\", 0.0)\n```\n:::\n\n\n## Define the variables\n\nNow you can start by defining the model variables. The variable we need first is the binary decision variable `X` which indicates whether an arc from node `i` to node `j` exists. To work with the decision variable, you will need to work with a vector of locations.\n\n::: {#a900e17b .cell execution_count=8}\n``` {.julia .cell-code}\n# Vector of locations\nprintln(demand.location)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nString7[\"central\", \"dc_01\", \"dc_02\", \"dc_03\", \"dc_04\", \"dc_05\", \"dc_06\", \"dc_07\", \"dc_08\", \"dc_09\", \"dc_10\", \"dc_11\", \"dc_12\", \"dc_13\", \"dc_14\"]\n```\n:::\n:::\n\n\n::: {.callout-tip}\n\nYou could use the `demand.location` vector to define the elements of the decision variable `X`.\n\n:::\n\n::: {#3f3384c3 .cell execution_count=9}\n``` {.julia .cell-code}\n# YOUR CODE BELOW\n```\n:::\n\n\n::: {#a708ae3d .cell execution_count=10}\n``` {.julia .cell-code code-fold=\"true\"}\n# Test your code\n@assert size(X) == (15,15) \"Have you defined the decision variable X?\"\n@assert all(is_binary(x) for x in X) \"The decision variable X should be binary\"\nprintln(\"Decision variable X test passed successfully, great job!\")\n```\n:::\n\n\n## Define the objective function\n\nWe want to minimize the total distance of the routes based on the distance dictionary `distance` that you computed earlier. Create the objective function.\n\n::: {#c5939fcf .cell execution_count=11}\n``` {.julia .cell-code}\n# YOUR CODE BELOW\n```\n:::\n\n\n::: {#dbdd3a65 .cell execution_count=12}\n``` {.julia .cell-code code-fold=\"true\"}\n# Test your code\nobj = objective_function(cvrp_model)\n@assert typeof(obj) <: GenericAffExpr \"Objective should be a linear expression\"\n@assert length(obj.terms) > 0 \"Objective should not be empty\"\nprintln(\"Objective function defined successfully, great job!\")\nprintln(\"Note, that it is not tested whether the objective function is correct!\")\n```\n:::\n\n\n## Define the constraints\n\nCreate the two set of constraints that ensure that each location is visited exactly once. **Note that the central location is indexed as `\"central\"`!** We don't need to consider the central location for the constraints and we have to ensure during summing that we don't include the pairs where `i == j`.\n\n::: {#30ec73e6 .cell execution_count=13}\n``` {.julia .cell-code}\n# YOUR CODE BELOW\n```\n:::\n\n\n::: {#6817f8bc .cell execution_count=14}\n``` {.julia .cell-code code-fold=\"true\"}\n# Test your code\nconst_refs = all_constraints(cvrp_model, include_variable_in_set_constraints=false)\nnum_constraints_in_model = length(const_refs)\nexpected_constraints = 2 * (nrow(demand) - 1)  # indegree + outdegree for all nodes except central\n@assert num_constraints_in_model == expected_constraints \"Number of constraints is incorrect as it is $(num_constraints_in_model) instead of $(expected_constraints).\"\nprintln(\"Constraints for the inflow and outflow defined, great job!\")\n```\n:::\n\n\nNext, we need to restrict the ingoing and outgoing flows to the `central` location. Create the two constraints that ensure that the number of vehicles arriving and leaving the central location is equal to the number of vehicles.\n\n::: {#715a969e .cell execution_count=15}\n``` {.julia .cell-code}\n# YOUR CODE BELOW\n```\n:::\n\n\n::: {#cafa8c4b .cell execution_count=16}\n``` {.julia .cell-code code-fold=\"true\"}\n# Test your code\nconst_refs = all_constraints(cvrp_model, include_variable_in_set_constraints=false)\nnum_constraints_in_model = length(const_refs)\nexpected_constraints = 2 * (nrow(demand) - 1) + 2  # indegree + outdegree for all nodes except central + 2 for inflow and outflow\n@assert num_constraints_in_model == expected_constraints \"Number of constraints is incorrect as it is $(num_constraints_in_model) instead of $(expected_constraints).\"\nprintln(\"Constraints for the inflow and outflow defined, great job!\")\n```\n:::\n\n\n## Solve the model\n\nNow, we can solve the model. This should work very fast, as the model is very simple without any subtour elimination constraints. Solve the model as usual.\n\n::: {#227fd529 .cell execution_count=17}\n``` {.julia .cell-code}\n# YOUR CODE BELOW\n```\n:::\n\n\n::: {#28805788 .cell execution_count=18}\n``` {.julia .cell-code code-fold=\"true\"}\n# This defines a function that prints the status of the model\nfunction print_model_status(model)\n    begin\n        if termination_status(model) == OPTIMAL\n            println(\"Great, the solution is optimal.\")\n            println(\"The relative gap is $(relative_gap(model))\")\n            println(\"The solve time (in seconds) is $(solve_time(model))\")\n        elseif termination_status(model) == TIME_LIMIT && has_values(model)\n            println(\"Solution is suboptimal due to a time limit, but a primal solution is available\") \n        else\n            error(\"The model was not solved correctly.\") \n        end\n        println(\"The objective value is \", objective_value(model)) \n    end\nend\n\n# Test your code\n@assert termination_status(cvrp_model) == OPTIMAL \"The model should be optimal. Have you have any mistakes in the model formulation?\"\nprint_model_status(cvrp_model)\nprintln(\"Model solved successfully, great job!\")\n```\n:::\n\n\n## Plot the results\n\nThe following part extracts the results to plot the tours and requires no changes on your part. It defines some functions that are used to plot the results.\n\n::: {#2c51bd53 .cell execution_count=19}\n``` {.julia .cell-code}\nfunction plot_routes(X, coord)\n\n    Routes = [value(X[i,j]) >= 0.5 ? true : false for i in coord.location, j in coord.location]\n\n    fig = plot(\n        size=(800, 600),\n        background_color=:white,\n        framestyle=:box,\n        grid=false,\n        dpi=300\n    )\n\n    connections = findall(Routes -> !iszero(Routes), Routes .>= 0.5)\n\n    for conn in connections\n        xx = [coord[conn[1],:x]; coord[conn[2],:x]]\n        yy = [coord[conn[1],:y]; coord[conn[2],:y]]\n        plot!(\n            fig, xx, yy,\n            color=:crimson,\n            label=\"\",\n            linewidth=2,\n            linestyle=:solid,\n            alpha=0.7\n        )\n    end\n\n    scatter!(\n        fig, coord[1:1,:x], coord[1:1,:y],\n        marker=:star5,\n        color=:black,\n        markersize=15,\n        label=\"Central Library\",\n        markerstrokewidth=1\n    )\n    scatter!(\n        fig, coord[2:end,:x], coord[2:end,:y],\n        marker=:circle,\n        color=:steelblue,\n        markersize=8,\n        label=\"Libraries\",\n        markerstrokewidth=1\n    )\n\n    plot!(\n        fig,\n        title=\"Delivery Routes Optimization\",\n        xlabel=\"Distance (km)\",\n        ylabel=\"Distance (km)\",\n        legend=:bottomright,\n        legendfontsize=8,\n        foreground_color_legend=nothing,\n        background_color_legend=:transparent,\n        margin=5Plots.mm,\n        xlims=(minimum(coord.x) - 5, maximum(coord.x) + 5),\n        ylims=(minimum(coord.y) - 5, maximum(coord.y) + 5)\n    )\n\n    return fig\nend\n\n# Plot the routes\ndisplay(plot_routes(X,coord))\n```\n:::\n\n\n# 2. Subtour elimination\n\nAs you see in the plot, the solution contains subtours. Thus, we need to add some constraints from the Miller-Tucker-Zemlin (MTZ) formulation to prevent subtours. First, we need to define the variable `U` which is the current capacity usage at node `i`.\n\n::: {.callout-tip}\n\nIt might be useful to convert the `demand` DataFrame into a dictionary, so we can access the demand for each location directly by the location name for the variable definition and the constraints.\n\n:::\n\nCreate the variable `U` and ensure that the capacity usage at each location is between the demand and the capacity. Note, that a dictionary might be useful here.\n\n::: {#ca44ac3f .cell execution_count=20}\n``` {.julia .cell-code}\n# YOUR CODE BELOW\n```\n:::\n\n\n::: {#51be7474 .cell execution_count=21}\n``` {.julia .cell-code code-fold=\"true\"}\n# Test your code\ndemand_dict = Dict(demand.location .=> demand.demand)\n@assert all(has_lower_bound(U[i]) == true for i in demand.location) \"The variable U should have a lower bound\"\n@assert all(has_upper_bound(U[i]) == true for i in demand.location) \"The variable U should have an upper bound\"\nprintln(\"Variable U defined successfully, great job!\")\n```\n:::\n\n\nNext, we need to add the set of constraints to prevent subtours.\n\n::: {#82390aaf .cell execution_count=22}\n``` {.julia .cell-code}\n# YOUR CODE BELOW\n```\n:::\n\n\n::: {#0503c4ff .cell execution_count=23}\n``` {.julia .cell-code code-fold=\"true\"}\n# Test your code\nprintln(\"Constraints for the subtour elimination defined!\")\nprintln(\"It is not tested whether the constraints are correct, so please check the resulting routes in the visualization.\")\n```\n:::\n\n\nNow, solve the model again.\n\n::: {#70b66232 .cell execution_count=24}\n``` {.julia .cell-code}\n# YOUR CODE BELOW\n```\n:::\n\n\nThe following code prints the model status and visualizes the routes. If your implementation is correct, the routes should be free of subtours and the model should have reached optimality or found a feasible solution before hitting the time limit.\n\n::: {#c43318a8 .cell execution_count=25}\n``` {.julia .cell-code}\nprint_model_status(cvrp_model)\ndisplay(plot_routes(X,coord))\n```\n:::\n\n\nThe following code plots the capacity usage per vehicle.\n\n::: {#ee4adf66 .cell execution_count=26}\n``` {.julia .cell-code code-fold=\"true\"}\n# Plot the capacity usage\nfunction plot_capacity_usage(X, U, coord)\n    # Find which locations are visited by each vehicle from central\n    vehicle_routes = []\n    for i in coord.location\n        if value(X[i, \"central\"]) > 0.5\n            push!(vehicle_routes, (i, value(U[i])))\n        end\n    end\n\n    println(vehicle_routes)\n    \n    # Sort by capacity usage for better visualization\n    sort!(vehicle_routes, by = x -> x[2])\n    \n    # Create bar plot\n    fig = bar(\n        [u[2] for u in vehicle_routes],\n        title=\"Capacity Usage per Vehicle\",\n        xlabel=\"Vehicle\",\n        ylabel=\"Capacity Usage (parcels)\",\n        label=\"\",\n        color=:steelblue,\n        ylims=(0, capacity),\n        size=(800, 400),\n        dpi=300,\n        margin=5Plots.mm,\n    )\n    \n    # Add capacity limit line\n    hline!([capacity], color=:red, linestyle=:dash, label=\"Capacity Limit\")\n    \n    return fig\nend\n\n# Create and display the plot\ndisplay(plot_capacity_usage(X, U, coord))\n```\n:::\n\n\n# 3. Computing the costs\n\nFastDelivery wants to know the costs of the optimal solution. Let's calculate the monthly operational costs based on the following parameters:\n\n- Cost per kilometer: 0.6 EUR (includes fuel, repairs, driver costs)\n- Service frequency: Monday to Friday (5 days per week)\n- Time period: 4 weeks\n- Vehicle lease cost: 450 EUR per vehicle per 4 weeks\n\nCalculate the total monthly costs and store them in `monthly_costs`.\n\n::: {#2c3be39a .cell execution_count=27}\n``` {.julia .cell-code}\n# YOUR CODE BELOW\n```\n:::\n\n\n::: {#84f97e90 .cell execution_count=28}\n``` {.julia .cell-code code-fold=\"true\"}\n# Test your code\n@assert isapprox(monthly_costs, 14168, atol=10) \"The costs are not as expected. But don't worry, you can still get the bonus points!\"\nprintln(\"Costs calculated as $(monthly_costs) EUR successfully, great job!\")\n```\n:::\n\n\n# 4. Optimal Solution?\n\nAlthough the costs can now be computed, the tour plan has not changed so far. FastDelivery asks you whether you have an idea of how to lower the costs associated with the parcel distribution. Take a look at your current plotted solution and try to come up with an idea. Discuss the potential shortcoming and assumptions of the current model in a few sentences. Propose at least one idea of how to lower the costs in the future.\n\nYou can do this in a comment in the cell below.\n\n::: {#0db1803a .cell execution_count=29}\n``` {.julia .cell-code}\n#=\n\n\n\n\n=#\n```\n:::\n\n\n# 5. Number of Vehicles\n\nTogether, you realize one potential area of improvement involves the number of vehicles: it might potentially not be necessary to have 6 vehicles which deliver the parcels to the distribution centers. You are thus tasked to find the optimal number of vehicles and the best tour plan to minimize the costs **(not the distance!)**. \n\n::: {.callout-tip}\n\nThere are multiple ways to tackle this task, but I recommend to first think about how to model the fixed costs for the vehicles and how to add the costs for the driving distance. If you need to adjust the model, feel free to do so. The easiest way then would be the definition of a new model (e.g. `cvrp_model_flex`) and then to copy and adjust all relevant constraints and variables.\n\n:::\n\nImplement these changes in your model and compute the optimal number of vehicles and the best tour plan. In case the computation takes too long, no worries! If you define the model with a time limit of 60 seconds, it should not take too long.\n\n::: {#9ffe19c6 .cell execution_count=30}\n``` {.julia .cell-code}\n# YOUR CODE BELOW\n```\n:::\n\n\nThe code below again visualizes the results. Note, that you might need to replace the `X` and `U` with your new models variable names, if you have renamed them.\n\n::: {#aa90baef .cell execution_count=31}\n``` {.julia .cell-code}\n# Visualize the results\nprint_model_status(cvrp_model_flex)\ndisplay(plot_routes(X,coord))\n```\n:::\n\n\nBased on your results, what are the expected costs savings when compared to task b, and how many vehicles does the central library need?\n\nPlease answer this question in the cell below.\n\n::: {#34bdca9d .cell execution_count=32}\n``` {.julia .cell-code}\n#=\n\n\n\n=#\n```\n:::\n\n\n---\n\n\n# Solutions\n\nYou will likely find solutions to most exercises online. However, I strongly encourage you to work on these exercises independently without searching explicitly for the exact answers to the exercises. Understanding someone else's solution is very different from developing your own. Use the lecture notes and try to solve the exercises on your own. This approach will significantly enhance your learning and problem-solving skills.\n\nRemember, the goal is not just to complete the exercises, but to understand the concepts and improve your programming abilities. If you encounter difficulties, review the lecture materials, experiment with different approaches, and don't hesitate to ask for clarification during class discussions.\n\nLater, you will find the solutions to these exercises online in the associated GitHub repository, but we will also quickly go over them in next week's tutorial. To access the solutions, click on the Github button on the lower right and search for the folder with today's lecture and tutorial. Alternatively, you can ask ChatGPT or Claude to explain them to you. But please remember, the goal is not just to complete the exercises, but to understand the concepts and improve your programming abilities.\n\n",
    "supporting": [
      "tutorial-routing_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}