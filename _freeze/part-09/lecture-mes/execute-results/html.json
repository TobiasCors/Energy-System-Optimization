{
  "hash": "8ce2e916aae784b5cd3a5ae2d722307c",
  "result": {
    "engine": "julia",
    "markdown": "---\ntitle: \"Lecture IX - Multi-Energy Systems\"\nsubtitle: \"Energy System Optimization with Julia\"\nauthor: \"Dr. Tobias Cors\"\ninstitute: \"Hamburg University of Applied Science - Summer 2025\"\ntitle-slide-attributes:\n    data-background-color: \"#025259\"\nhtml-math-method:\n  method: mathjax\n  url: \"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"\n\nformat:\n    html:\n        theme: [litera, ../styles.scss]\n        include-in-header: \n            text: |\n                \\usepackage{tikz}\n                \\usepackage{pgfplots}\n                \\pgfplotsset{compat=1.18}\n    revealjs:\n        theme: [default, ../styles.scss]\n        transition: slide\n        transition-speed: fast\n        highlight-style: arrow\n        slide-number: true\n        code-copy: true\n        code-link: true\n        preview-links: auto\n        footer: \" {{< meta title >}} | {{< meta author >}} | [Home](lecture-mes.qmd)\"\n        output-file: lecture-presentation.html\n\nbibliography: ../ESO-bib.bib\n\nengine: julia\n\nexecute:\n    echo: true\n---\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# [Quick Recap from last Week]{.flow} {.title}\n\n## Energy System Design Problem Overview\n\n- **Objective**: Minimize total annual costs (investment + operational) while respecting budget constraints\n- **Decision Variables**:\n\n  - Investment variables (First Stage):\n    - Storage energy capacity ($e^{nom}_s$)\n    - Storage charging power ($p^{ch,nom}_s$)\n    - Storage discharging power ($p^{dis,nom}_s$)\n    - Wind park capacity ($p^{nom}_w$)\n    - PV park capacity ($p^{nom}_v$)\n  - Operational variables (Second Stage):\n    - Wind power output ($p_{w,t,\\omega}$)\n    - PV power output ($p_{v,t,\\omega}$)\n    - Grid import/export ($p^{in}_{t,\\omega}$, $p^{out}_{t,\\omega}$)\n    - Storage operation ($p^{ch}_{s,t,\\omega}$, $p^{dis}_{s,t,\\omega}$, $e_{s,t,\\omega}$)\n\n- **Key Constraints**:\n\n  - Investment budget limit\n  - Power balance\n  - Component capacity limits\n  - Storage energy balance\n  - Storage energy limits\n  - Storage power limits\n\n::: {.callout-note}\nThe Energy System Design problem combines investment planning (sizing) with operational optimization, enabling comprehensive energy system design. The stochastic formulation considers multiple scenarios to account for uncertainty in renewable generation, demand patterns, and price variations.\n:::\n\n## Mathematical Formulation\n\n### Objective Function\n\n$\\text{Minimize} \\quad \\sum_{s \\in \\mathcal{S}} AC^{inv}_s + \\sum_{w \\in \\mathcal{W}} AC^{inv}_w + \\sum_{v \\in \\mathcal{V}} AC^{inv}_v + \\sum_{\\omega \\in \\Omega} \\pi_{\\omega} (AC^{grid,imp}_{\\omega} - AR^{grid,exp}_{\\omega})$\n\n### Key Constraints\n\n1. **Investment Budget**:\n\n$\\sum_{s \\in \\mathcal{S}} (C^{E}_s e^{nom}_s + C^{P,ch}_s p^{ch,nom}_s + C^{P,dis}_s p^{dis,nom}_s) + \\sum_{w \\in \\mathcal{W}} C^{W}_w p^{nom}_w + \\sum_{v \\in \\mathcal{V}} C^{PV}_v p^{nom}_v \\leq B^{max}$\n\n2. **Power Balance**:\n\n$\\sum_{w \\in \\mathcal{W}} p_{w,t,\\omega} + \\sum_{v \\in \\mathcal{V}} p_{v,t,\\omega} + (p^{in}_{t,\\omega} - p^{out}_{t,\\omega}) + \\sum_{s \\in \\mathcal{S}} (p^{dis}_{s,t,\\omega} - p^{ch}_{s,t,\\omega}) = d_{t,\\omega} \\quad \\forall t \\in \\mathcal{T}, \\omega \\in \\Omega$\n\n3. **Component Capacity Limits**:\n\n$0 \\leq p_{w,t,\\omega} \\leq f_{w,t,\\omega} p^{nom}_w \\quad \\forall w \\in \\mathcal{W}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n$0 \\leq p_{v,t,\\omega} \\leq f_{v,t,\\omega} p^{nom}_v \\quad \\forall v \\in \\mathcal{V}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n$0 \\leq p^{ch}_{s,t,\\omega} \\leq p^{ch,nom}_s \\quad \\forall s \\in \\mathcal{S}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n$0 \\leq p^{dis}_{s,t,\\omega} \\leq p^{dis,nom}_s \\quad \\forall s \\in \\mathcal{S}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n$DoD_s e^{nom}_s \\leq e_{s,t,\\omega} \\leq e^{nom}_s \\quad \\forall s \\in \\mathcal{S}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n\n4. **Storage Energy Balance**:\n\n$e_{s,t,\\omega} = (1-sdr_s)e_{s,t-1,\\omega} + \\eta^{ch}_s p^{ch}_{s,t,\\omega} - \\frac{p^{dis}_{s,t,\\omega}}{\\eta^{dis}_s} \\quad \\forall s \\in \\mathcal{S}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n\n## Model Characteristics\n\n- Two-stage stochastic Linear Programming (LP) problem\n- Combines investment and operational decisions\n- Large-scale optimization problem\n- Requires efficient solution methods\n- Considers multiple scenarios for robust decision-making\n\n::: {.callout-tip}\nThe model can be adapted to specific use cases, i.e., if a wind park already has a fixed capacity, the corresponding variable can be converted to a parameter. The stochastic formulation allows for more robust investment decisions by considering multiple scenarios.\n:::\n\n## Additional Constraints\n\nThe basic model can be extended with various constraints, partly covered from previous lectures:\n\n### Generator Constraints\n- Minimum up/down times\n- Start-up and shut-down costs\n- Ramp rate limits\n- Minimum load constraints\n- Part-load efficiency curves\n\n### Storage Constraints\n- Ramp rate limits for charging/discharging\n- Mutual exclusion constraints\n- Cycle limits (daily/weekly/seasonal)\n- State of charge dependent efficiency\n- Temperature dependent operation\n- Degradation effects\n- Multiple storage technologies with different characteristics\n\n### Grid Connection\n- Maximum import/export power limits\n- Grid fees and tariffs\n- Ancillary service requirements\n\n### Renewable Generation\n- Curtailment limits\n\n### System-wide Constraints\n- Reserve requirements\n- Island operation capability\n- Multiple energy carriers\n- Environmental constraints\n- Regulatory requirements\n\n::: {.callout-note}\nThese additional constraints can be included based on the specific requirements of the energy system being designed. Each constraint adds complexity but may be necessary for realistic modeling.\n:::\n\n## Implementation Insights\n\n- Data structures use NamedTuples for efficient parameter storage\n- Results are stored in DataFrames for easy analysis\n- Key metrics tracked:\n  - Total system cost\n  - Investment costs by component\n  - Operational costs\n  - Component capacities\n  - Storage operation\n  - Grid interaction\n- Sensitivity analysis capabilities:\n  - Budget variations\n  - Electricity price changes\n  - Component cost variations\n\n::: {.callout-note}\nThe tutorial demonstrated how to implement and solve the stochastic design problem using Julia and JuMP, including comprehensive sensitivity analysis of key parameters such as investment budget and electricity prices.\n:::\n\n## Solutions from last Week\n\n- The tutorials from last week will again be [available on Friday]{.highlight}\n- You can access them in the project folder on Github\n- Click on the little cat icon on the bottom right\n\n. . .\n\n::: {.callout-tip}\n[You can ask questions anytime in class or via email!]{.highlight}\n:::\n\n# [Excursion: Two-Stage Stochastic Programming]{.flow} {.title}\n\n## Problem Structure vs. Solution Method\n\nA two-stage stochastic programming problem is characterized by its decision structure, not its solution method. The key aspects are:\n\n1. **Decision Stages**:\n   - First stage (here-and-now): Decisions made before uncertainty is revealed\n   - Second stage (wait-and-see): Decisions made after uncertainty is revealed\n\n2. **Information Structure**:\n   - First stage: Decisions based on known parameters and probability distributions\n   - Second stage: Decisions based on observed scenario realizations\n\n::: {.callout-note}\nThe \"two-stage\" classification refers to the logical structure and timing of decisions, not how the problem is solved computationally.\n:::\n\n## Solution Approaches\n\n### Monolithic Approach\n- Solve the entire problem as one large optimization model\n- All constraints and variables are included in a single mathematical program\n- Advantages:\n  - Simpler implementation\n  - Direct solution using standard solvers\n  - No need for specialized algorithms\n- Disadvantages:\n  - Can become computationally challenging for large problems\n  - May require significant memory resources\n\n### Decomposition Methods\n- Break the problem into smaller subproblems\n- Examples:\n  - Benders decomposition: Iteratively solves a master problem (first stage) and subproblems (second stage) by adding cuts that approximate the second-stage cost\n  - Progressive hedging: Solves each scenario independently and iteratively adjusts solutions to achieve consensus across scenarios\n  - L-shaped method: Similar to Benders, but specifically designed for two-stage stochastic linear programs with a special structure\n- Advantages:\n  - Can handle larger problems\n  - More efficient for certain problem structures\n- Disadvantages:\n  - More complex implementation\n  - May require specialized algorithms\n\n## Energy System Design Example\n\nIn our energy system design problem:\n\n### First Stage (Investment)\n- Storage capacity decisions\n- Wind park capacity\n- PV park capacity\n- Made before knowing:\n  - Renewable generation profiles\n  - Demand patterns\n  - Electricity prices\n\n### Second Stage (Operation)\n- Power dispatch decisions\n- Storage operation\n- Grid interaction\n- Made after observing:\n  - Actual renewable generation\n  - Real demand\n  - Current market prices\n\n::: {.callout-tip}\nWhether we solve this as one large optimization problem or use decomposition methods, it remains a two-stage stochastic program due to its decision structure and information flow.\n:::\n\n## Mathematical Representation\n\nThe general form of a two-stage stochastic program is:\n\n$\\min_{x} \\quad c^T x + \\mathbb{E}_{\\omega}[Q(x,\\omega)]$\n\nwhere:\n\n- $x$ represents first-stage decisions\n- $Q(x,\\omega)$ represents the second-stage problem for scenario $\\omega$\n- $\\mathbb{E}_{\\omega}$ denotes the expectation over all scenarios\n\nThis structure can be solved:\n\n1. As one large optimization problem (monolithic)\n2. Using decomposition methods\n3. Through other specialized algorithms\n\nThe choice of solution method depends on:\n\n- Problem size\n- Available computational resources\n- Required solution time\n- Implementation complexity\n\n::: {.callout-note}\nThe two-stage structure provides a framework for modeling decision-making under uncertainty, regardless of the computational approach used to solve it.\n:::\n\n# [Introduction to Multi-Energy Systems]{.flow} {.title}\n\n## Multi-Energy Systems: Definition\n\nA multi-energy system is a system that combines multiple energy carriers (e.g. electricity, hydrogen, heat, etc.) to meet the energy demand of a specific application.\n\n## Multi-Energy Systems: Example Hydrogen Value Chain\n\n![Example case of a hydrogen value chain](H2-mes.png){width=70%}\n\n::: {.callout-note}\nThe figure shows a multi-energy system with:\n\n- Renewable energy sources (PV and Wind) and grid connection\n- Electric bus bar for power distribution\n- Electrolyzer for hydrogen production\n- Hydrogen bus bar for hydrogen distribution\n- Hydrogen storage\n- Hydrogen demand\n:::\n\n## Multi-Energy System Design Problem\n\nIn this lecture, we extend the Stochastic System Design problem to include investment decisions for *multi-energy systems*. This allows us to:\n\n1. Optimize technology selection over the entire energy value chain\n2. Determine optimal component sizes\n3. Balance investment and operational costs\n4. Plan local multi-energy systems holistically (e.g. electricity, hydrogen, heat, etc.)\n\n::: {.callout-note}\nRemember: The design problem combines investment planning (sizing) with operational optimization, enabling comprehensive (multi-)energy system design.\n:::\n\n## Key Components\n\nWe will focus on optimizing:\n\n- Storage systems for electricity and hydrogen\n- Wind parks\n- PV parks\n- Electrolyzers\n- Electric market participation\n\n... while fullfilling a fixed hydrogen demand. Additionally, we consider a maximum investment budget.\n\nAll nominal sizes will be decision variables in our optimization model.\n\n# [Mathematical Formulation of the Stochastic Design Problem for Multi-Energy Systems]{.flow} {.title}\n\n**... on the simple example of the hydrogen value chain with electricity and hydrogen as mediums**\n\n## Sets\n\n- $\\mathcal{T}$ - Set of time periods indexed by $t \\in \\{1,2,...,|\\mathcal{T}|\\}$\n- $\\mathcal{S}$ - Set of storage systems indexed by $s \\in \\{1,2,...,|\\mathcal{S}|\\}$\n- $\\mathcal{S}_{\\text{El}}$ - Subset of $\\mathcal{S}$ of electricity storage systems\n- $\\mathcal{S}_{\\text{H2}}$ - Subset of $\\mathcal{S}$ of hydrogen storage systems\n- $\\mathcal{W}$ - Set of wind parks indexed by $w \\in \\{1,2,...,|\\mathcal{W}|\\}$\n- $\\mathcal{V}$ - Set of PV parks indexed by $v \\in \\{1,2,...,|\\mathcal{V}|\\}$\n- $\\mathcal{X}$ - Set of electrolyzers indexed by $x \\in \\{1,2,...,|\\mathcal{X}|\\}$\n- $\\Omega$ - Set of scenarios indexed by $\\omega \\in \\{1,2,...,|\\Omega|\\}$\n\n::: {.callout-note}\nNew additions to the sets:\n\n1. $\\mathcal{S}_{\\text{El}}$ and $\\mathcal{S}_{\\text{H2}}$ to distinguish between electricity and hydrogen storage\n2. $\\mathcal{X}$ for electrolyzers as a new component type\n:::\n\n## Decision Variables\n\n### Investment Variables (First Stage)\n- $e^{nom}_s$ - Nominal energy capacity of storage $s$ [MWh]\n- $p^{ch,nom}_s$ - Nominal charging power of storage $s$ [MW]\n- $p^{dis,nom}_s$ - Nominal discharging power of storage $s$ [MW]\n- $p^{nom}_w$ - Nominal power of wind park $w$ [MW]\n- $p^{nom}_v$ - Nominal power of PV park $v$ [MW]\n- $p^{nom}_x$ - Nominal power of electrolyzer $x$ [MW]\n\n### Operational Variables (Second Stage)\n- $p_{w,t,\\omega}$ - Power output of wind park $w$ at time $t$ in scenario $\\omega$ [MW]\n- $p_{v,t,\\omega}$ - Power output of PV park $v$ at time $t$ in scenario $\\omega$ [MW]\n- $p^{in}_{t,\\omega}$ - Power inflow through market at time $t$ in scenario $\\omega$ [MW]\n- $p^{out}_{t,\\omega}$ - Power outflow through market at time $t$ in scenario $\\omega$ [MW]\n- $p^{ch}_{s,t,\\omega}$ - Charging power of storage $s$ at time $t$ in scenario $\\omega$ [MW]\n- $p^{dis}_{s,t,\\omega}$ - Discharging power of storage $s$ at time $t$ in scenario $\\omega$ [MW]\n- $e_{s,t,\\omega}$ - Energy level of storage $s$ at time $t$ in scenario $\\omega$ [MWh]\n- $p_{x,t,\\omega}$ - Power consumption of electrolyzer $x$ at time $t$ in scenario $\\omega$ [MW]\n- $h_{x,t,\\omega}$ - Hydrogen production of electrolyzer $x$ at time $t$ in scenario $\\omega$ [MW]\n\n::: {.callout-note}\nNew operational variables for the electrolyzer:\n\n1. $p_{x,t,\\omega}$ for power consumption\n2. $h_{x,t,\\omega}$ for hydrogen production\n:::\n\n### Annual Cost Variables\n- $AC^{inv}_s$ - Annual investment cost for storage $s$ [EUR/year]\n- $AC^{inv}_w$ - Annual investment cost for wind park $w$ [EUR/year]\n- $AC^{inv}_v$ - Annual investment cost for PV park $v$ [EUR/year]\n- $AC^{inv}_x$ - Annual investment cost for electrolyzer $x$ [EUR/year]\n- $AC^{grid,imp}_{\\omega}$ - Annual grid electricity import cost in scenario $\\omega$ [EUR/year]\n- $AR^{grid,exp}_{\\omega}$ - Annual grid electricity export revenue in scenario $\\omega$ [EUR/year]\n\n::: {.callout-note}\nNew cost variable: \n$AC^{inv}_x$ for electrolyzer investment costs\n:::\n\n## Parameters\n\n### Investment Costs (First Stage)\n- $C^{E}_s$ - Cost per MWh of energy capacity for storage $s$ [EUR/MWh]\n- $C^{P,ch}_s$ - Cost per MW of charging power capacity for storage $s$ [EUR/MW]\n- $C^{P,dis}_s$ - Cost per MW of discharging power capacity for storage $s$ [EUR/MW]\n- $C^{W}_w$ - Cost per MW of wind park $w$ [EUR/MW]\n- $C^{PV}_v$ - Cost per MW of PV park $v$ [EUR/MW]\n- $C^{X}_x$ - Cost per MW of electrolyzer $x$ [EUR/MW]\n- $F^{PVAF}$ - Present value annuity factor for investment costs\n- $B^{max}$ - Maximum investment budget [EUR]\n\n::: {.callout-note}\nNew investment cost parameter:\n$C^{X}_x$ for electrolyzer capacity costs\n:::\n\n### Operational Parameters (Second Stage)\n- $\\eta^{ch}_s$ - Charging efficiency of storage $s$\n- $\\eta^{dis}_s$ - Discharging efficiency of storage $s$\n- $sdr_s$ - Self-discharge rate of storage $s$ per time step\n- $DoD_s$ - Depth of discharge limit for storage $s$ [%]\n- $f_{w,t,\\omega}$ - Wind capacity factor at time $t$ in scenario $\\omega$ for wind park $w$\n- $f_{v,t,\\omega}$ - Solar capacity factor at time $t$ in scenario $\\omega$ for PV park $v$\n- $d_{t,\\omega}$ - Hydrogen demand at time $t$ in scenario $\\omega$ [MW]\n- $c^{MP}_{t,\\omega}$ - Grid electricity market price at time $t$ in scenario $\\omega$ [EUR/MWh]\n- $c^{TaL}$ - Grid electricity taxes and levies (including Netzentgelt) [EUR/MWh]\n- $\\beta_x$ - Conversion factor of electrolyzer $x$ [MW H2/MW El]\n- $\\pi_{\\omega}$ - Probability of scenario $\\omega$\n\n::: {.callout-note}\nChanges in operational parameters:\n\n1. $d_{t,\\omega}$ now represents hydrogen demand instead of electricity demand\n2. New parameter $\\beta_x$ for electrolyzer conversion efficiency\n:::\n\n## Objective Function\n\n$\\text{Minimize} \\quad \\sum_{s \\in \\mathcal{S}} AC^{inv}_s + \\sum_{w \\in \\mathcal{W}} AC^{inv}_w + \\sum_{v \\in \\mathcal{V}} AC^{inv}_v + \\sum_{x \\in \\mathcal{X}} AC^{inv}_x + \\sum_{\\omega \\in \\Omega} \\pi_{\\omega} (AC^{grid,imp}_{\\omega} - AR^{grid,exp}_{\\omega})$\n\n::: {.callout-note}\nChanges in objective function:\nAdded electrolyzer investment costs $\\sum_{x \\in \\mathcal{X}} AC^{inv}_x$\n:::\n\n## Annual Cost Constraints\n\n### Investment Costs (First Stage)\n$AC^{inv}_s = \\frac{C^{E}_s}{F^{PVAF}} e^{nom}_s + C^{P,ch}_s p^{ch,nom}_s + C^{P,dis}_s p^{dis,nom}_s \\quad \\forall s \\in \\mathcal{S}$\n$AC^{inv}_w = \\frac{C^{W}_w}{F^{PVAF}} p^{nom}_w \\quad \\forall w \\in \\mathcal{W}$\n$AC^{inv}_v = \\frac{C^{PV}_v}{F^{PVAF}} p^{nom}_v \\quad \\forall v \\in \\mathcal{V}$\n$AC^{inv}_x = \\frac{C^{X}_x}{F^{PVAF}} p^{nom}_x \\quad \\forall x \\in \\mathcal{X}$\n\n### Investment Budget\n$\\sum_{s \\in \\mathcal{S}} (C^{E}_s e^{nom}_s + C^{P,ch}_s p^{ch,nom}_s + C^{P,dis}_s p^{dis,nom}_s) + \\sum_{w \\in \\mathcal{W}} C^{W}_w p^{nom}_w + \\sum_{v \\in \\mathcal{V}} C^{PV}_v p^{nom}_v + \\sum_{x \\in \\mathcal{X}} C^{X}_x p^{nom}_x \\leq B^{max}$\n\n::: {.callout-note}\nChanges in investment budget:\nAdded electrolyzer investment costs $\\sum_{x \\in \\mathcal{X}} C^{X}_x p^{nom}_x$\n:::\n\n### Grid Electricity Costs (Second Stage)\n$AC^{grid,imp}_{\\omega} = \\sum_{t \\in \\mathcal{T}} (c^{MP}_{t,\\omega} + c^{TaL}) p^{in}_{t,\\omega} \\quad \\forall \\omega \\in \\Omega$\n$AR^{grid,exp}_{\\omega} = \\sum_{t \\in \\mathcal{T}} c^{MP}_{t,\\omega} p^{out}_{t,\\omega} \\quad \\forall \\omega \\in \\Omega$\n\n## Constraints\n\n### Power Balance (Electricity)\n$\\sum_{w \\in \\mathcal{W}} p_{w,t,\\omega} + \\sum_{v \\in \\mathcal{V}} p_{v,t,\\omega} + (p^{in}_{t,\\omega} - p^{out}_{t,\\omega}) + \\sum_{s \\in \\mathcal{S}_{\\text{El}}} (p^{dis}_{s,t,\\omega} - p^{ch}_{s,t,\\omega}) = \\sum_{x \\in \\mathcal{X}} p_{x,t,\\omega} \\quad \\forall t \\in \\mathcal{T}, \\omega \\in \\Omega$\n\n::: {.callout-note}\nChanges in electricity balance:\n\n1. Uses $\\mathcal{S}_{\\text{El}}$ subset for electricity storage\n2. Right-hand side changed from demand to electrolyzer consumption\n:::\n\n### Hydrogen Balance\n$\\sum_{x \\in \\mathcal{X}} h_{x,t,\\omega} + \\sum_{s \\in \\mathcal{S}_{\\text{H2}}} (p^{dis}_{s,t,\\omega} - p^{ch}_{s,t,\\omega}) = d_{t,\\omega} \\quad \\forall t \\in \\mathcal{T}, \\omega \\in \\Omega$\n\n::: {.callout-note}\nNew constraint:\n\nHydrogen balance equation considering:\n\n  1. Hydrogen production from electrolyzers\n  2. Hydrogen storage operations\n  3. Hydrogen demand\n:::\n\n### Component Limits\n\n#### Wind Parks\n$0 \\leq p_{w,t,\\omega} \\leq f_{w,t,\\omega} p^{nom}_w \\quad \\forall w \\in \\mathcal{W}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n\n#### PV Parks\n$0 \\leq p_{v,t,\\omega} \\leq f_{v,t,\\omega} p^{nom}_v \\quad \\forall v \\in \\mathcal{V}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n\n#### Storage Systems\n$0 \\leq p^{ch}_{s,t,\\omega} \\leq p^{ch,nom}_s \\quad \\forall s \\in \\mathcal{S}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n$0 \\leq p^{dis}_{s,t,\\omega} \\leq p^{dis,nom}_s \\quad \\forall s \\in \\mathcal{S}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n$DoD_s e^{nom}_s \\leq e_{s,t,\\omega} \\leq e^{nom}_s \\quad \\forall s \\in \\mathcal{S}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n\n### Storage Energy Balance\n$e_{s,t,\\omega} = (1-sdr_s)e_{s,t-1,\\omega} + \\eta^{ch}_s p^{ch}_{s,t,\\omega} - \\frac{p^{dis}_{s,t,\\omega}}{\\eta^{dis}_s} \\quad \\forall s \\in \\mathcal{S}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n\n### Electrolyzer Constraints\n$0 \\leq p_{x,t,\\omega} \\leq p^{nom}_x \\quad \\forall x \\in \\mathcal{X}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n$h_{x,t,\\omega} = \\beta_x p_{x,t,\\omega} \\quad \\forall x \\in \\mathcal{X}, t \\in \\mathcal{T}, \\omega \\in \\Omega$\n\n::: {.callout-note}\nNew constraints for electrolyzer:\n\n1. Power consumption limits\n2. Conversion relationship between power consumption and hydrogen production\n:::\n\n# [Literature Review: Multi-Energy Systems and Energy Hubs]{.flow} {.title}\n\n## Conceptual Foundation\n\nMulti-energy systems (MES) and energy hubs represent a fundamental shift in energy system design, moving from single-carrier optimization to integrated multi-carrier approaches. The energy hub concept was originally introduced by @Geidl2007b as a framework for optimal coupling of energy infrastructures, enabling the integration of electricity, heat, gas, and other energy carriers within a unified optimization framework.\n\n::: {.callout-note}\nThe energy hub concept provides a systematic approach to model and optimize multi-carrier energy systems, enabling the integration of renewable energy sources, storage technologies, and energy conversion processes.\n:::\n\n## Recent Literature Reviews\n\nSeveral comprehensive literature reviews have been conducted in recent years, highlighting the growing importance of multi-energy systems:\n\n### Uncertainty Modeling and Optimization\nRecent reviews by @Jasinski2023, @Lasemi2022, and @Onen2022 focus on uncertainty modeling approaches in energy hub optimization. These reviews identify three main approaches:\n- **Stochastic Programming**: Using scenario-based optimization with Monte Carlo simulation\n- **Robust Optimization**: Providing conservative but computationally efficient solutions\n- **Hybrid Methods**: Combining the advantages of both approaches\n\n### Comprehensive Framework Reviews\n@Papadimitriou2023 provides a systematic review of modeling formulations, optimization methods, and market interactions in energy hubs. @Ding2022 extends this analysis to include trading and control structures for handling large-scale datasets.\n\n### Historical Development\nEarlier reviews by @Maroufmashat2019 and @Son2021 identified the hydrogen economy as a major application area for energy hubs, following the original proposals by @Geidl2007b. These reviews systematically analyzed 200+ articles published between 2007-2017, establishing the foundation for current research directions.\n\n## Key Research Directions\n\n### Hydrogen and Power-to-X Integration\nRecent literature identifies hydrogen and Power-to-X (P2X) technologies as critical future research directions. @Kountouris2023 developed an optimization model for P2X-integrated energy hubs applied to an industrial park in Denmark, demonstrating the economic viability of hydrogen, methanol, and ammonia production.\n\n### Industrial Applications\n@Wassermann2022 addressed the planning and operation problem for hydrogen demand in refinery applications, presenting MILP model extensions for water electrolysis and cavern storage. This work demonstrates the practical application of energy hub concepts to real-world industrial decarbonization projects.\n\n### Uncertainty and Computational Challenges\nThe representation of renewable energy uncertainty is identified as a core challenge across multiple reviews. @Ringkjob2018, who reviewed 75 energy system modeling frameworks, conclude that high spatiotemporal resolution is essential for accurate RES representation, but comes at significant computational cost.\n\n::: {.callout-note}\nThe trade-off between model fidelity and computational burden is a central challenge in multi-energy system optimization, particularly when considering renewable energy uncertainty.\n:::\n\n## Solution Methods and Frameworks\n\n### Decomposition Approaches\nSeveral studies demonstrate the effectiveness of Benders decomposition for energy hub optimization. @Mansouri2020, @Chen2019b, and @Hemmati2018 use Benders decomposition to separate dimensioning decisions (master problem) from operational optimization (subproblems), enabling efficient solution of large-scale problems.\n\n### Advanced Modeling Frameworks\nRecent frameworks address computational complexity through innovative approaches:\n\n- **SpineOpt** (@Ihlemann2022): A flexible Julia-based framework allowing variable temporal resolution per system component\n- **AnyMod** (@Goke2021): A pure linear model formulation designed for macro-energy system planning with full-year time series\n- **ficus** (@Atabay2017): An industrial energy system optimization framework based on the urbs framework (@Dorfner2016)\n\n### Temporal Resolution Challenges\n@Gonzato2021 analyzed techniques for reducing temporal scope in expansion planning models with long-term storage, recommending against temporal reductions and advocating for full-year time series inclusion to prevent biases in system design.\n\n## Hydrogen Supply Chain Integration\n\nThe integration of hydrogen supply chain network design (HSCND) with energy hub optimization represents an emerging research area. @Li2019 provides a comprehensive review of HSCND optimization approaches, while @Riera2023 reviews hydrogen production and supply chain modeling specifically.\n\n::: {.callout-note}\nThe integration of hydrogen supply chain optimization with energy hub concepts enables comprehensive planning of green hydrogen value chains from production to end-use applications.\n:::\n\n## Open Source Tools and Frameworks\n\nSeveral reviews assess the maturity and capabilities of open-source energy system optimization tools:\n\n- @Groissbock2019 evaluates the maturity of open-source tools for serious applications\n- @Oberle2019 assesses the ability of open-access models to evaluate current energy scenarios\n- @Pfenninger2014 provides a broader perspective on energy systems modeling challenges\n\n## Future Research Directions\n\nRecent literature reviews identify several critical future research directions:\n\n1. **Technology Integration**: Further development of hydrogen, P2X, and CCUS technologies in integrated energy hubs\n2. **Real-world Applications**: Development of practical applications and business cases for energy hub concepts\n3. **Computational Efficiency**: Development of efficient modeling schemes and solution algorithms for uncertainty representation\n4. **Industrial Decarbonization**: Application of energy hub concepts to hard-to-abate industrial sectors\n\n::: {.callout-note}\nThe energy hub concept has evolved from a theoretical framework to a practical tool for industrial decarbonization, with growing applications in hydrogen value chains and Power-to-X systems.\n:::\n\n## Literature II\n\n\n::: {.loud-slide}\n::: {.r-fit-text}\nQuestions?\n:::\n:::\n\n::: footer\n:::\n\n# [Literature]{.flow} {.title}\n\n## Literature I\n\nFor more interesting literature to learn more about Julia, take a look at the [literature list](../general/literature.qmd) of this course.\n\n## Literature II\n\n\n",
    "supporting": [
      "lecture-mes_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}