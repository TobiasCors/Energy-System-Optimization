{
  "hash": "41a42fc429c317a5a96261470cd9cbba",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Tutorial X - Intermission: Exam Preparation\"\nsubtitle: \"Applied Optimization with Julia\"\nhtml-math-method:\n  method: mathjax\n  url: \"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"\n\nformat:\n    html:\n        theme: [litera, ../styles.scss]\n        highlight-style: arrow\n        linkcolor: \"#a60000\"\n        code-copy: true\n        code-link: true\n        toc: true\n        toc-location: right\n        code-overflow: wrap\n    pdf: \n        documentclass: report\n        geometry:\n            - margin=1in\n        fontfamily: roboto\n        fontfamilyoptions: sfdefault\n        colorlinks: true\n\nexecute:\n    eval: false\n\n---\n\n\n\n\n\n\n# Introduction\n\nThis tutorial is another short intermission to give you an idea of the structure of the exam. You can hand in your answers at the end to receive half a **bonus point**, if at least 75 % of the answers are correct and you describe your work clearly. If you have any questions or suggestions on how to improve the structure of the exam, please ask them. \n\nThe exam is just meant to be a **tool** to check your understanding of the material and to give you a chance to show your skills. It is not meant to be a stressful event or a punishment. If you have followed the course and put in the effort, you should be able to pass the exam with a good grade.\n\n::: {.callout-tip}\nAs some of these tasks are difficult to answer on a computer, you can hand in your answer scanned or written digitally on an iPad or Laptop.\n:::\n\n# Part I\n\n## 1.a (6 Points)\n\nAs temperatures rise due to global warming, so does the demand for ice cream. The ice cream company was amazed by your transportation plan from the lecture and asked if you could help with their production plan.\n\nThe company wants to optimize its production to keep up with the customer demand. To do so, they offer different flavors of ice cream that are made and stored in a warehouse. Each flavor has a unique production time per unit of ice cream and no setup time for the production. In the first period, the company has 100 units of each flavor in storage at the end of the period.\n\nFurthermore, each setup of a different flavor costs a fixed amount of money identical for all flavors and periods, while the ice cream storage costs in the warehouse are different for each flavor but identical for all periods. These storage costs occur at the end of each period per unit of ice cream for all units not sold to cover the varying demand per flavor and period.\n\nEach period matches a shift length of a certain number of hours, identical for all periods. The objective is to minimize the total cost of production and storage while satisfying all demands and production capacities.\n\nDefine all sets, parameters and variables required to model the problem described above. Select a suitable notation of your choice. Make sure to explicitly state in your notation which elements are sets, parameters and variables.\n\n::: {.callout-tip}\nNote that the problem does not have to be modeled yet!\n:::\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\n- $i \\in \\mathcal{I}$ : flavors of ice cream (Set)\n- $t \\in \\mathcal{T}$ : different periods under consideration (Set) \n- $p_{i}$ : production time of sort $i$ (Parameter)\n- $f$ : fixed setup costs of all sorts (Parameter)\n- $c_i$ : storage costs per period of sort $i$ (Parameter)\n- $d_{i,t}$ : ice cream demand per period (Parameter)\n- $W_{i,t}$ : quantity stored at end of period (Variable)\n- $X_{i,t}$ : production quantity per sort and period (Variable)\n- $Y_{i,t}$ : 1, if product is set up in period (Variable)\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#54017f08 .cell execution_count=1}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n## 1.b (3 Points)\n\nPlease define the objective function to model the described problem based on your defined notation.\n\n::: {.callout-tip}\nIf you need additional sets, parameters or variables that are not yet defined, please define them as well.\n:::\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\n$$\n\\text{min} \\quad \\sum_{i \\in \\mathcal{I}}\\sum_{t \\in \\mathcal{T}} (f \\times Y_{i,t} + c_i \\times W_{i,t})\n$$\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#cf27783b .cell execution_count=2}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n## 1.c (6 Points)\n\nPlease define all necessary constraints and the variable ranges to model the described problem based on your notation.\n\n::: {.callout-tip}\nIf you need additional sets, parameters or variables that are not yet defined, please define them as well.\n:::\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\n$$\nX_{i,t} + W_{i,t-1} -W_{i,t} = d_{i,t} \\quad \\forall i \\in \\mathcal{I},t \\in \\mathcal{T}: t \\neq 1\n$$\n\n$$\nX_{i,t} -W_{i,t} = d_{i,t} \\quad \\forall i \\in \\mathcal{I},t \\in \\mathcal{T}: t = 1\n$$\n\n$$\nX_{i,t} \\leq Y_{i,t} \\times \\sum_{\\tau \\in \\mathcal{T}} d_{i,\\tau} \\quad \\forall i \\in \\mathcal{I},t \\in \\mathcal{T}\n$$\n\n$$\n\\sum_{i \\in \\mathcal{I}} p_i \\times X_{i,t} \\leq q \\quad \\forall i \\in \\mathcal{I},t \\in \\mathcal{T}\n$$\n\n$$\nW_{i,t} = 100 \\quad \\forall i \\in \\mathcal{I},t \\in \\mathcal{T}: t = 1\n$$\n\n$$\nW_{i,t} \\geq 0 \\quad \\forall i \\in \\mathcal{I},t \\in \\mathcal{T}\n$$\n\n$$\nX_{i,t} \\geq 0 \\quad \\forall i \\in \\mathcal{I},t \\in \\mathcal{T}\n$$\n\n$$\nY_{i,t} \\in \\{0,1\\} \\quad \\forall i \\in \\mathcal{I},t \\in \\mathcal{T}\n$$\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#90da606e .cell execution_count=3}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n## 1.d (2 Points)\n\nIs the model formulation a nonlinear problem with continuous variables? \n\nPlease explain your answer briefly.\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\nNo, the solution is not a nonlinear problem with continuous variables. The objective function is linear and the constraints are linear as well. Furthermore, we also have binary variables.\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#9b676fd8 .cell execution_count=4}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n## 1.e (9 Points)\n\nDue to the success of the companies, workers demand higher wages and a compensation for working overtime. Your task is to extend the model to reflect this new situation. In the future, each worked hour in a period has a fixed cost per shift hour, identical for all periods. If the production time in one period exceeds the shift-length, workers have to work overtime. For each hour working overtime, the fixed costs per hour are 50% higher than usual. Furthermore, more than an additional time of a half a shift length is not allowed due to legal reasons.\n\nHow can you expand your model to reflect this new situation? Write down all additional or modified sets, parameters, variables, constraints and the objective function while describing each with a few words.\n\n::: {.callout-tip}\nNote, that you only need to write down new and modified elements!\n:::\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\n**New Parameters**\n\n- $s$ : fixed costs per shift hour (Parameter)\n- $q$ : shift length (Parameter)\n\n**New Variables**\n\n- $Z_t$ : number of additional working hours in period (Variable)\n\n**New objective function**\n\n$$\n\\text{min} \\quad \\sum_{i \\in \\mathcal{I}}\\sum_{t \\in \\mathcal{T}} (f \\times Y_{i,t} + c_i \\times W_{i,t}) + \\sum_{t \\in \\mathcal{T}} (s \\times q + 1.5 \\times s \\times q \\times Z_t)\n$$\n\n**New constraints**\n\n$$\n\\sum_{i \\in \\mathcal{I}} p_i \\times X_{i,t} \\leq q + q \\times Z_t \\quad \\forall i \\in \\mathcal{I},t \\in \\mathcal{T}\n$$\n\n$$\n0 \\leq Z_t \\leq 0.5 \\times q \\quad \\forall t \\in \\mathcal{T}\n$$\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#d516680b .cell execution_count=5}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n## 1.f (4 points)\n\nWhat assumptions are made in the model that might not hold in the real world? \n\nPlease describe at least two assumptions with a 1-3 sentences and explain briefly why they might not hold.\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\n- The demand is known and fixed for each period. In reality, the demand is not known in advance and can vary, we can only estimate it.\n- The production time is known and fixed for each period. In reality, the production time can vary due to different production rates or machine breakdowns.\n- The workers are available and can work overtime. In reality, workers might be unavailable or have other constraints.\n\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#15e563da .cell execution_count=6}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n# Part II\n\n## 2.a (6 Points)\n\nThroughout the course, we covered several different optimization problems. For one of the following two problems, briefly:\n\n- Describe the main objective of the problem (2 points)\n- Describe two key assumptions of the model (2 points per assumption)\n\nChoose from:\n\n- Transportation Problem (Solar Panel Transport)\n- Split Order Minimization Problem (E-Commerce)\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\n**Transportation Problem (Solar Panel Transport)**\n\n- Main objective: Minimize the total cost of transporting solar panels from different factories to the customers.\n- Key assumptions: The demand is known and fixed for each period, a vehicle can only visit one customer per tour.\n\n**Split Order Minimization Problem (E-Commerce)**\n\n- Main objective: Minimize the number of split orders to minimize shipping costs.\n- Key assumptions: Each product has the same shipping cost per unit, the future demand is known.\n\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#240e5c28 .cell execution_count=7}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n## 2.b (4 Points)\n\nYou are trying to solve the capacitated vehicle routing problem with more than 500 customers and 10 vehicles. Unfortunately, your computer is not able to handle the problem. What could you try to solve the problem instead?\n\nPlease describe one approach to adress the problem and describe the advantages and disadvantages of the approach in a few sentences.\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\nOne approach would be to use a heuristic to solve the problem.\n\nAdvantages of a heuristic:\n\n- Breaks down the large problem into manageable problems that can be solved\n- Significantly reduces computational complexity\n- Can still produce good quality solutions\n\nDisadvantages of a heuristic:\n\n- May miss better solutions as the solution is not guaranteed to be optimal\n- The quality of the final solution depends heavily on the heuristic used\n\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#d82a1d9d .cell execution_count=8}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n## 2.c (3 Points)\n\nSuppose you aim to improve the shifts of workers in a hospital. As the administration finds it difficult to find new workers, they want to optimize the shifts of the current workers to improve their satisfaction. What potential objective could be used in an objective function?\n\nPlease describe the objective function and explain why it would be a good choice for the problem.\n\n::: {.callout-tip}\nYou don't need to write any code or mathematical model here!\n:::\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\nOne potential objective function could be to minimize the maximum number of consecutive working days for any worker. This would help ensure a more balanced distribution of shifts and prevent worker burnout. \n\nThis objective is good because:\n\n1. It directly addresses worker satisfaction by preventing long stretches of work without breaks\n2. It naturally leads to more equitable shift distributions among workers\n3. It can help reduce fatigue-related errors which is especially important in a hospital setting\n\nAlternative objectives could include minimizing the number of undesirable shifts (like night shifts) per worker or maximizing the number of preferred shift requests that can be granted.\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#998fa25b .cell execution_count=9}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n## 2.d (2 Points)\n\nWhat is the purpose of a solver used in Mathematical Programming?\n\nPlease describe the answer in your own words in 2-3 sentences.\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\nA solver is a software that finds solutions to mathematical optimization problems by implementing specific algorithms. \n\nIt takes a mathematical model (with objective function, constraints, and variables) as input and attempts to find the (optimal) solution that satisfies all constraints while maximizing or minimizing the objective function. \n\nThe solver handles the computational complexity of searching through the solution space efficiently, which would be impractical to do manually.\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#49755993 .cell execution_count=10}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n\n# [Part III]{.flow} {.title}\n\n## 3.a (3 Points)\n\nCreate a JuMP variable with the following properties: A continuous variable `Production[t,p]` for time periods $t \\in 1:T$ and products $p \\in 1:P$ which must be non-negative and has an upper bound stored in parameter `capacity[t,p]`. All parameters (`T`, `P`, `capacity`) are already defined, the model is not created yet.\n\nSpecify the definition of the variable in correct Julia syntax.\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\n\n\n::: {#bac11254 .cell execution_count=12}\n``` {.julia .cell-code}\nmodel = Model()\n@variable(model, 0 <= Production[t in 1:T, p in 1:P] <= capacity[t, p])\n```\n:::\n\n\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#f6293e8c .cell execution_count=13}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n## 3.b (3 Points)\n\nWrite JuMP code to implement the following constraint:\n\n$$\\sum_{f \\in F} Y_{f,z} \\leq 1 \\quad \\forall z \\in Z$$\n\nAssume variables `Y` is already defined as binary variables and the sets `F` and `Z` are already defined as well. The model is also already created.\n\nSpecify the definition of the constraint in correct Julia syntax.\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\n\n\n::: {#022a516c .cell execution_count=15}\n``` {.julia .cell-code}\n@constraint(model, my_constraint[z in Z], sum(Y[f, z] for f in F) <= 1)\n```\n:::\n\n\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#c2f8c8d2 .cell execution_count=16}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n## 3.c (2 Points)\n\nYou are given the following JuMP code with a constraint that is not correctly implemented.\n\n```julia\n@constraint(sum(X[i,j] for i in 1:10, j in 1:5) == 10)\n```\n\nPlease explain why the constraint is not correctly implemented and how it can be fixed.\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\n\n\nThe constraint is missing the model parameter in the `@constraint` macro. The correct syntax should be:\n\n::: {#50e350c7 .cell execution_count=18}\n``` {.julia .cell-code}\n@constraint(model, sum(X[i,j] for i in 1:10, j in 1:5) == 10)\n```\n:::\n\n\nAdditionally, when using `@constraint`, it's generally good practice to give the constraint a name for better debugging and reference. \n\nA fully improved version would be:\n\n::: {#035bcaf4 .cell execution_count=19}\n``` {.julia .cell-code}\n@constraint(model, sum_constraint, sum(X[i,j] for i in 1:10, j in 1:5) == 10)\n```\n:::\n\n\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#ca630748 .cell execution_count=20}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n## 3.d (2 Points)\n\nWhat is the difference between a tuple and an array (vector) in Julia?\n\nPlease describe the difference in a 1-3 sentences.\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\nA tuple in Julia is an immutable fixed-size container (once created, its elements cannot be modified), while an array is mutable and can be resized. \n\nTuples are defined using parentheses like `(1,2,3)` and are often used for small collections where the values won't change, while arrays use square brackets like `[1,2,3]` and are better suited for larger collections that need to be modified.\n\\newpage\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#3116897b .cell execution_count=21}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n## 3.e (5 Points)\n\nYou are given the following code in Julia:\n\n::: {#49d476c1 .cell execution_count=22}\n``` {.julia .cell-code}\nmySet = 1:8\nvectorA = [\"Hello\", \"World\"]\nfor i in mySet\n    if i <= 2\n        println(vectorA[i])\n    elseif i <= 4\n        println(vectorA[i-2])\n    elseif i > 6 && i <= 8\n        println(\"This is $i\")\n    elseif i == 9\n        break\n    else\n        println(\"Hi $i\")\n    end\nend\n```\n:::\n\n\nPlease write down the output of the code.\n\n::: {.content-visible when-profile=\"solutions\"}\n\n**Solution**\n\n::: {#7bccfb0d .cell execution_count=23}\n\n::: {.cell-output .cell-output-stdout}\n```\nHello\nWorld\nHello\nWorld\nHi 5\nHi 6\nThis is 7\nThis is 8\n```\n:::\n:::\n\n\n:::\n\n::: {.content-visible unless-profile=\"solutions\"}\n\\vspace{0.1in}\n\n::: {#3640091c .cell execution_count=24}\n``` {.julia .cell-code}\n# Your answer here\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n```\n:::\n\n\n\\newpage\n:::\n\n",
    "supporting": [
      "tutorial-intermission_files"
    ],
    "filters": [],
    "includes": {}
  }
}